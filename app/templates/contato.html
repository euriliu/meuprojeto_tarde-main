{% extends 'base.html' %}

{% block conteudo %}

<div class="container mt-4">
  <h2 class="mb-4">Entre em contato</h2>

  {% with mensagens = get_flashed_messages() %}
    {% if mensagens %}
      <div class="alert alert-info">
        <ul class="list-unstyled">
          {% for mensagem in mensagens %}
            <li>{{ mensagem }}</li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}
  {% endwith %}

  {% if dados_formulario %}
    <div class="card mb-4">
      <div class="card-body">
        <h5 class="card-title">Dados do Formulário:</h5>
        <p class="card-text">Nome: {{ dados_formulario.nome }}</p>
        <p class="card-text">Email: {{ dados_formulario.email }}</p>
        <p class="card-text">Telefone: {{ dados_formulario.telefone }}</p>
        <p class="card-text">Conteúdo: {{ dados_formulario.conteudo }}</p>
      </div>
    </div>
  {% endif %}

  <form action="" method="post">
    {{ formulario.csrf_token }}
    <div class="form-group">
      <label for="nome">Nome:</label>
      {{ formulario.nome(class="form-control") }}
    </div>

    <div class="form-group">
      <label for="email">Email:</label>
      {{ formulario.email(class="form-control") }}
    </div>

    <div class="form-group">
      <label for="telefone">Telefone:</label>
      {{ formulario.telefone(class="form-control") }}
    </div>

    <div class="form-group">
      <label for="conteudo">Conteúdo:</label>
      {{ formulario.conteudo(class="form-control") }}
    </div>

    {{ formulario.enviar(class="btn btn-primary") }}
  </form>

  {% if formulario.nome.data %}
    <ul class="list-unstyled text-danger">
      {% for data in formulario.nome.data %}
        <li>{{ data }}</li>
      {% endfor %}
    </ul>
  {% endif %}
</div>

{% endblock %}